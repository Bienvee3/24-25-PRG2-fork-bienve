import java.util.Scanner;

public class main 
{
	public static void main(String[] args) 
	{
		JuegoInterno a = new JuegoInterno();
		Scanner entrada = new Scanner(System.in);
		
        do 
        {
        	a.InicializacionTablero();
        	
            do 
            {   
                a.ImpresionTablero();
                a.CambioDeJugador();
                
                do
                {
                	a.PosicionFicha();
                }
                while(!a.fichacolocada);
                
                a.VerificarGanador();
            }
            while(!a.ganador && a.tirada < 9);
                
            a.ContadorVictoria();
            a.PreguntaFinal();
                
        } while (a.volverajugar); //Repite el juego mientras el usuario quiera jugar
      
        //Mensaje de despedida al terminar el juego
        System.out.println();
        System.out.println("Nos veremos pronto...");
        
	}
}

=======================
    JuegoInterno
=======================


import java.util.Scanner;

public class JuegoInterno 
{
	Scanner entrada = new Scanner(System.in);
	private int victoriasX = 0;                                                                 //Variable para las victorias de X
	private int victoriasO = 0;                                                                 //Variable para las victorias de O
	public int tirada = 0;
    public boolean volverajugar = true;                                                         // Variable para controlar si se juega otra partida
    public boolean ganador;                                                                     //Variable para controlar si hay un ganador en la partida
    public boolean fichacolocada = false;                                                       //Variable para controlar si se ha colocado la ficha en el tablero
    private String respuesta;                                                                   //Variable para la respuesta del usuario
    private String ganadorjuego = "";                                                           //Variable para almacenar el ganador de cada juego
    private String[] tablero = {"_", "_", "_", "_", "_", "_", "_", "_", "_"};                   // Tablero vacío
    private String ficha;

    
    public void InicializacionTablero() 
    {
    	//Inicialización del tablero
    	tablero = new String[] {"_", "_", "_", "_", "_", "_", "_", "_", "_"};               // Tablero vacío
        tirada = 0;                                                                         //Variable para llevar el seguimiento del numero de movimientos realizados en el juego
        ganador = false;                                                                    //Variable para controlar si hay un ganador en la partida
	}
    
    public void ImpresionTablero()
    {
    	//Impresión del tablero
        System.out.println(tablero[0] + " | " + tablero[1] + " | " + tablero[2]);
        System.out.println(tablero[3] + " | " + tablero[4] + " | " + tablero[5]);
        System.out.println(tablero[6] + " | " + tablero[7] + " | " + tablero[8]);
    }
    
    public void CambioDeJugador()
    {
    	//Determina el jugador que esta jugando el momento(X o O)


        ficha = tirada % 2 == 0 ? "X" : "O";                                                 //Cambia entre X y O para los movimientos
        tirada++;                                                                            //Incrementa el contador de movimientos
    }
    
    public void PosicionFicha()
    {
    	
    	int posicion;
    	do 
        {
            System.out.println();
            System.out.println("Jugador " + ficha + " ¿Donde quieres mover?");                              //Mensaje de movimiento
			posicion = entrada.nextInt();                                                                   //Obtiene la posicion ingresada por el jugador
            
            //Verifica si la posicion es valida y esta disponible en el tablero


            if (posicion >= 0 && posicion < 9 && tablero[posicion].equals("_")) 
            {
                tablero[posicion] = ficha;                                                                       //Coloca la ficha en la posicion seleccionada
                fichacolocada = true;                                                                            //Marca que la ficha ha sido colocada correctamente
            } 
            else 
            {
                System.out.println("¡Posición ocupada o inválida! Elige otra posición.");                           //Mensaje de error si la posicion no es valida
                fichacolocada = false;                                                                              //Marca que no se ha colocado ninguna ficha
            }
            
            
        } while (!fichacolocada);
    }
    
    public void VerificarGanador()
    {
    	if ((tablero[0].equals(tablero[1]) && tablero[0].equals(tablero[2]) && !tablero[0].equals("_")) ||
            (tablero[3].equals(tablero[4]) && tablero[3].equals(tablero[5]) && !tablero[3].equals("_")) ||
            (tablero[6].equals(tablero[7]) && tablero[6].equals(tablero[8]) && !tablero[6].equals("_")) ||
            (tablero[0].equals(tablero[3]) && tablero[0].equals(tablero[6]) && !tablero[0].equals("_")) ||
            (tablero[1].equals(tablero[4]) && tablero[1].equals(tablero[7]) && !tablero[1].equals("_")) ||
            (tablero[2].equals(tablero[5]) && tablero[2].equals(tablero[8]) && !tablero[2].equals("_")) ||
            (tablero[0].equals(tablero[4]) && tablero[0].equals(tablero[8]) && !tablero[0].equals("_")) ||
            (tablero[2].equals(tablero[4]) && tablero[2].equals(tablero[6]) && !tablero[2].equals("_"))) 
            {
                System.out.println("¡¡Enhorabuena jugador " + ficha + " ,has ganado!!");                            //Mensaje de victoria
                ganador = true;                                                                                     //Establece que hay un ganador en esta partida
                ganadorjuego = ficha;                                                                               //Almacena el ganador del juego
            }
    	
    	//Caso de empate


        if (!ganador && tirada == 9) 
        {
            System.out.println();
        	System.out.println("¡¡Empate!!"); 
        }
    }
    
    public void ContadorVictoria()
    {
    	//Incrementa el contador de victorias del jugador que gano el juego


        if(ganadorjuego.equals("X"))
        {
        	victoriasX++;                   //Suma uno cada vez que gana X
        }
        else if(ganadorjuego.equals("O"))  
        {
        	victoriasO++;                   //Suma uno cada vez que gana O
        }
        
        //Muestra el contador de victorias al finalizar el juego


        System.out.println();
        System.out.println("Victorias Jugador X: " + victoriasX);
        System.out.println("Victorias Jugador O: " + victoriasO);
    }
    
    public void PreguntaFinal()
    {
    	//Pregunta si desea jugar de nuevo


        System.out.println();
        System.out.println("¿Quieres volver a jugar?");
		respuesta = entrada.next();                                             //Obtiene la respuesta ingresada por el jugador
        volverajugar = respuesta.equals("si");                                  //Verifica si el usuario quiere volver a jugar
    }
}
